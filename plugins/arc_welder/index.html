<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en" xmlns="http://www.w3.org/1999/html"> <!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <title>Arc Welder</title>
    <meta name="description" content="Anti-Stutter and GCode Compression.  Replaces G0/G1 with G2/G3 where possible.">
    <meta name="author" content="Brad Hochgesang">
    <meta name="referrer" content="same-origin">
    <meta name="google-site-verification" content="0EFsbaNygJcEinKPmzP-hTf0Ju6wDIpJxO5zvQtOQT0" />

    <!--[if lt IE 9]>
    <script integrity="sha256-1VQQ7rDR5QuVWLWUVg42JSnGDz1w+Ajv5j3BYTewImo=" crossorigin="anonymous" type="text/javascript" src="/assets/js/html5shim-d55410eeb0d1e50b9558b594560e362529c60f3d70f808efe63dc16137b0226a.js"></script>
    <![endif]-->

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le styles -->
    <link rel="stylesheet" type="text/css" integrity="sha256-Dv3KTEDq7YNiPM7svgppRnY8IS4jMxnG/y/I20j4/z4=" crossorigin="anonymous" href="/assets/css/site-0efdca4c40eaed83623cceecbe0a6946763c212e233319c6ff2fc8db48f8ff3e.css">
    <link rel="stylesheet" type="text/css" integrity="sha256-x3oF7W99Cf9z5EnLxwuL7SMnZsNzcRha8NMy4dSpyzw=" crossorigin="anonymous" href="/assets/css/bootstrap-responsive-c77a05ed6f7d09ff73e449cbc70b8bed232766c37371185af0d332e1d4a9cb3c.css">
    <link rel="stylesheet" type="text/css" integrity="sha256-UMPDOdo7o8O/MGBQHShitNB5Tg+kq6pYRLdKnRb1lpc=" crossorigin="anonymous" href="/assets/css/fontawesome-all.min-50c3c339da3ba3c3bf3060501d2862b4d0794e0fa4abaa5844b74a9d16f59697.css">
    <link rel="stylesheet" type="text/css" integrity="sha256-MN+CcDlRKORo1cBysj7J+O9yZYIPfnRSUfm3A7wZYqk=" crossorigin="anonymous" href="/assets/css/prettify-30df8270395128e468d5c072b23ec9f8ef7265820f7e745251f9b703bc1962a9.css">
    <link rel="stylesheet" type="text/css" integrity="sha256-TLVyIEah2gVphVpS0v1nAEPJmvi1zI6sCZvLAWqFzkg=" crossorigin="anonymous" href="/assets/css/lightbox-4cb5722046a1da0569855a52d2fd670043c99af8b5cc8eac099bcb016a85ce48.css">

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/assets/img/tentacle-32x32.png">

    <!-- Le RSS feed -->
    <link rel="alternate" type="application/rss+xml" title="OctoPrint Plugin Repository: New Plugins" href="/feed.xml">

    <!-- Le social media meta data -->
    
    
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@OctoPrint3D" />
    <meta name="twitter:title" content="Arc Welder" />
    <meta name="twitter:description" content="Arc Welder: Anti Stutter and GCode Compression

    
	

    
        Makers Mashup Review of Arc Welder
    


" />
    <meta name="twitter:image" content="https://plugins.octoprint.org" />

    <meta property="og:title" content="Arc Welder" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://plugins.octoprint.org/assets/img/plugins/arc_welder/tab_full.jpg" />
    <meta property="og:description" content="Arc Welder: Anti Stutter and GCode Compression

    
	

    
        Makers Mashup Review of Arc Welder
    


" />
    <meta property="og:site_name" content="OctoPrint Plugin Repository" />
    <meta property="og:url" content="https://plugins.octoprint.org/plugins/arc_welder/" />

    <meta itemscope itemtype="http://schema.org/WebPage" />
    <meta itemprop="headline" content="Arc Welder" />
    <meta itemprop="description" content="Arc Welder: Anti Stutter and GCode Compression

    
	

    
        Makers Mashup Review of Arc Welder
    


" />
    <meta itemprop="image" content="https://plugins.octoprint.org/assets/img/plugins/arc_welder/tab_full.jpg" />

    <script integrity="sha256-S1jf6xGbLdFfVOCgdM+OtjIEyLA9RQVuC1FOBC82qkQ=" crossorigin="anonymous" type="text/javascript" src="/assets/js/jquery-1.9.1.min-4b58dfeb119b2dd15f54e0a074cf8eb63204c8b03d45056e0b514e042f36aa44.js"></script>
    <script integrity="sha256-Qtj60TvCj8cmd1GW7Jq5U/6/m94XXFhFEoNhyVP6F/Q=" crossorigin="anonymous" type="text/javascript" src="/assets/js/underscore.min-42d8fad13bc28fc726775196ec9ab953febf9bde175c5845128361c953fa17f4.js"></script>

    <link rel="stylesheet" type="text/css" integrity="sha256-tL+YHnbnFQmHWvz19K2J5tmzvLpB+iD8aiYibV4WK9E=" crossorigin="anonymous" href="/assets/css/cookieconsent.min-b4bf981e76e71509875afcf5f4ad89e6d9b3bcba41fa20fc6a26226d5e162bd1.css">
    <script integrity="sha256-6KrAt6fD48F8Yhv1uyTAmKYC5K0MKGdZj0DV7knspCU=" crossorigin="anonymous" type="text/javascript" src="/assets/js/cookieconsent.min-e8aac0b7a7c3e3c17c621bf5bb24c098a602e4ad0c2867598f40d5ee49eca425.js"></script>
    <script>
        if (!String.prototype.startsWith) {
            String.prototype.startsWith = function(search, pos) {
            return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
            };
        }

        window.addEventListener("load", function(){
            window.cookieconsent.initialise({
                "position": "bottom",
                "theme": "edgeless",
                "palette": {
                    "popup": {
                        "background": "#000000",
                        "link": "#10a800"
                    },
                    "button": {
                        "background": "#0b7500"
                    }
                }
            })
        });

        /**
         * Make sure octoprint.github.io stuff gets rewritten to plugins.octoprint.org.
         * See https://github.com/OctoPrint/plugins.octoprint.org/issues/146.
         */
        var githubio = "octoprint.github.io/plugins.octoprint.org";
        var url = window.location.href;
        if (url && (url.startsWith("http://" + githubio) || url.startsWith("https://" + githubio))) {
            url = url.replace(githubio, "plugins.octoprint.org");
            window.location.replace(url);
        }
    </script>
    <script integrity="sha256-b9hF6WkmuqKen2NW6BMyhRRgTQmEZmCTb0yvVKuaWAQ=" crossorigin="anonymous" type="text/javascript" src="/assets/js/github-6fd845e96926baa29e9f6356e813328514604d09846660936f4caf54ab9a5804.js"></script>
</head>

<body>

<a class="support-ukraine" href="https://supportukrainenow.org/" target="_blank" rel="nofollow noopener" title="We stand with Ukraine!">
  🇺🇦 We stand with Ukraine! 🇺🇦
</a>

<div class="navbar navbar-inverse navbar-static-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="/"><img src="/assets/img/tentacle-20x20.png" alt="Tentacle logo" class="tentacle"> Plugin Repo</a>
      <a href="javascript:void(0)" class="btn btn-burger btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><i class="fas fa-bars"></i></a>
      <div class="pull-right">
        <ul class="nav social-navbar">
          <li><a href="https://octoprint.org/merch/" title="Get some merchandise!" target="_blank"><i class="fa fa-shopping-basket"></i></a></li>
          <li><a href="https://octoprint.org/support-octoprint/" title="Support OctoPrint!" data-event-category="supportlink" data-event-action="navigation" target="_blank"><i class="fas fa-donate"></i></a></li>
        </ul>
      </div>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Sorted by... <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/by_name/">... name</a></li>
              <li><a href="/by_date/">... date</a></li>
              <li><a href="/by_tag/">... tag</a></li>
              <li><a href="/by_author/">... author</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Topics <b class="caret"></b></a>
            <ul class="dropdown-menu">
              
              <li><a href="/topics/power_control">Power Control (14 plugins)</a></li>
              
              <li><a href="/topics/remote_access">Remote Access (14 plugins)</a></li>
              
            </ul>
          </li>
          <li><form class="navbar-search pull-right" action="/search/" method="get"><input type="text" class="input-large search-query" placeholder="Enter search &amp; hit enter..." name="q"></form></li>
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Help <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/help/installation/">Installing Plugins</a></li>
              <li><a href="/help/registering/">Registering Plugins</a></li>
              <li><a href="http://docs.octoprint.org/en/master/plugins/gettingstarted.html">The Plugin Tutorial</a></li>
              <li class="divider"></li>
              <li><a href="/help/github_integration/">GitHub Integration on plugins.octoprint.org</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Lists <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/blacklist/">Blacklist</a></li>
              <li><a href="/notices/">Notices</a></li>
              <li><a href="/overlays/">Overlays</a></li>
              <li><a href="/abandoned/">Abandoned plugins</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div id="wrap">
    <div id="main">
    






<div class="page-header">
  <div class="container">
    <div class="row">
      <div class="span12">
        <h1>Arc Welder</h1>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row-fluid">
    
    <small class="pull-left"><a href="/plugins/OctoPrint-hueCommands/"><i class="fa fa-double-angle-left"></i>&nbsp;Add GCODE like HUE commands to OctoPrint</a></small>
    
    &nbsp;
    
    <small class="pull-right"><a href="/plugins/ArduCamFocus/">ArduCamFocus&nbsp;<i class="fa fa-double-angle-right"></i></a></small>
    
  </div>
  <div class="content plugin-content row-fluid">
    <article class="post-content span8">
      
      
      
      

      <p class="lead">
        Anti-Stutter and GCode Compression.  Replaces G0/G1 with G2/G3 where possible.
      </p>
      <h1 id="arc-welder-anti-stutter-and-gcode-compression">Arc Welder: Anti Stutter and GCode Compression</h1>
<figure style="text-align:center">
    <div class="responsive_iframe">
	<div class="yt-with-consent" data-vid="18uYYXecH5g"></div>
</div>
    <figcaption>
        <a href="https://www.youtube.com/channel/UCevttltfkZ76jwqfV1vrRbQ">Makers Mashup</a> Review of Arc Welder
    </figcaption>
</figure>

<figure style="text-align:center">
    <img src="https://plugins.octoprint.org/assets/img/plugins/arc_welder/tab_mini.jpg" alt="The Arc Welder Tab" title="The Arc Welder Tab." />
    <figcaption>
        <a href="https://github.com/FormerLurker/ArcWelderPlugin/wiki/">
            <i>The Arc Welder Tab</i>
        </a>
    </figcaption>
</figure>
<h2 id="how-to-use-arc-welder">How To Use Arc Welder</h2>
<p>Please read the <a href="https://github.com/FormerLurker/ArcWelderPlugin/#arc-welder-anti-stutter">readme file</a> in the Github Repository for installation and usage instructions.  I am planning to add a complete wiki for the plugin in the near future and will link to that here when it is complete.</p>

<p>Please note that if you are using Python 3, you may need to install the <em>python3-dev</em> package before <em>Arc Welder</em> will install. This is detailed in the <a href="https://github.com/FormerLurker/ArcWelderPlugin/#prerequisites">prerequisites section of the readme file</a> linked to above.</p>

<h2 id="support-arc-welder-development">Support <em>Arc Welder</em> Development</h2>
<p>Please consider supporting my work by becoming a <a href="https://www.patreon.com/join/FormerLurker">patron</a>, a <a href="https://github.com/sponsors/FormerLurker">Github Sponsor</a>, or by sending me beer money via <a href="https://paypal.me/formerlurker">PayPal</a>.  Almost all of the donations go towards offsetting the cost of development, which is substantial. Plus, it always makes my day!  If you cannot afford to leave a tip or just don’t want to, that is fine too! <em>Arc Welder</em> is <a href="https://raw.githubusercontent.com/FormerLurker/ArcWelderPlugin/master/LICENSE">free and open source</a> after all.</p>

<h2 id="what-arc-welder-does">What <em>Arc Welder</em> Does</h2>
<p><em>Arc Welder</em> attempts to replace G0/G1 (linear move) GCodes with G2/G3 (arc move) GCodes.  This can substantially compress many GCode files and may reduce stuttering caused by sending many tiny movements in rapid succession over a slower serial connection.  Here is an example of the before and after of a single layer of a cylinder with archimedean infill produced by PrusaSlicer:</p>
<figure style="text-align:center">
    <a href="https://plugins.octoprint.org/assets/img/plugins/arc_welder/gcode_cylinder_before_after.png" target="_blank">
        <img src="https://plugins.octoprint.org/assets/img/plugins/arc_welder/gcode_cylinder_before_after.png" alt="An ncviewer visualization of GCode produced by PrusaSlicer." title="An ncviewer visualization of GCode produced by PrusaSlicer.  Click to view the full sized image." />
    </a>
    <figcaption>
        <i>Before:  GCode generated by PrusaSlicer.  After: GCode processed by ArcWelder.  Visualized with <a href="https://ncviewer.com/">ncviewer</a>. <a href="https://plugins.octoprint.org/assets/img/plugins/arc_welder/gcode_cylinder_before_after.png" target="_blank">View the Full Sized Image</a>.</i>
    </figcaption>
</figure>
<p>Each dot in the image above represents the start or endpoint of an extrusion.  You can see that the <em>After</em> GCode above has far fewer moves. The processed GCode is 76.1% smaller with 96.4% fewer extrusion/retraction commands than the original file.  Detailed statistics are created and stored for each GCode file processed:</p>
<figure style="text-align:center">
    <img src="https://plugins.octoprint.org/assets/img/plugins/arc_welder/gcode_cylinder_test_statistics.jpg" alt="Postprocessing Statistics" />
    <figcaption>
        <i>Statistics of the arc-welded file, showing a substantial reduction in file size and extrusion/retraction moves.</i>
    </figcaption>
</figure>

<p>The results above are not typical since the source file is almost entirely circular.  A better real world example, the first layer of the famous <a href="http://www.3dbenchy.com/">3DBenchy</a>, sliced with PrusaSlicer using archimedean infill is shown below:</p>

<figure style="text-align:center">
    <a href="https://plugins.octoprint.org/assets/img/plugins/arc_welder/3dbenchy_before_after.png" target="_blank">
        <img src="https://plugins.octoprint.org/assets/img/plugins/arc_welder/3dbenchy_before_after.png" alt="A Before and After of 3D Benchy." title="A Before and After of 3D Benchy.  Click to view the full sized image." />
    </a>
    <figcaption>
        <i>Before:  GCode generated by PrusaSlicer.  After: GCode processed by Arc Welder.  Visualized with <a href="https://ncviewer.com/">ncviewer</a>.  <a href="https://plugins.octoprint.org/assets/img/plugins/arc_welder/3dbenchy_before_after.png" target="_blank">View the Full Sized Image</a>.</i>
    </figcaption>
</figure>

<p>The result is a GCode file that is 56.2% smaller (2.3 compression ratio) with 75.0% fewer extrusion/retraction commands.  In this case, <em>Arc Welder</em> shows a massive decrease in small extrusion moves between 0.01mm and 1mm in length:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   Min          Max   Source  Target  Change
--------------------------------------------
  0.000mm to   0.002mm     0      0     0.0%
  0.002mm to   0.005mm     0      0     0.0%
  0.005mm to   0.010mm     0      0     0.0%
  0.010mm to   0.050mm     7      1   -85.7%
  0.050mm to   0.100mm    29      6   -79.3%
  0.100mm to   0.500mm  1342     74   -94.5%
  0.500mm to   1.000mm   810    114   -85.9%
  1.000mm to   5.000mm   145    341   135.2%
  5.000mm to  10.000mm     1     25  2400.0%
 10.000mm to  20.000mm     2     14   600.0%
 20.000mm to  50.000mm     8      8     0.0%
 50.000mm to 100.000mm     2      2     0.0%
          &gt;= 100.000mm     2      2     0.0%
--------------------------------------------
       Total distance:............1929.879mm
   Total count source:..................2348
   Total count target:...................587
 Total percent change:................-75.0%
</code></pre></div></div>
<h2 id="how-arc-welder-works">How <em>Arc Welder</em> Works</h2>
<p><em>Arc Welder</em> reads each GCode in the source file, searching for three extrusion or retraction commands in a row.  It adds adds these points to a special shape detection class that determines if the collected points can be represented by an arc command (G2/G3).  Once an arc is detected, <em>Arc Welder</em> compares the original GCode path with the resulting arc command to ensure that any deviation is within the specified resolution (by default, +-0.025mm).  <em>Arc Welder</em> will continue to add new points to the arc until it detects either a significant deviation from the original GCode or a change in the printer’s state (a new layer, a feedrate or offset change, etc.).  It will then pull off the final point from the arc, output the altered G2/G3 command, and continue to process the file.  The resulting GCode will not vary from the source file by more than half of the specified resolution, which is configurable.  Here is a rudimentary illustration:</p>

<figure style="text-align:center">
    <a href="https://plugins.octoprint.org/assets/img/plugins/arc_welder/arc_creation_example.png" target="_blank">
        <img src="https://plugins.octoprint.org/assets/img/plugins/arc_welder/arc_creation_example.png" alt="An illustration of how arcs are created.  Click to view the full sized image." title="An illustration of how arcs are created.  Click to view the full sized image." />
    </a>
    <figcaption>
        <i>An illustration of how arcs are generated.  <a href="https://plugins.octoprint.org/assets/img/plugins/arc_welder/arc_creation_example.png" target="_blank">View the Full Sized Image</a>.</i>
    </figcaption>
</figure>

<p>In the example above, <em>Arc Welder</em> has created two arcs.  The first arc starts at P1 and ends at P5 on the blue line. The original path is shown in red.  In this example <em>Arc Welder</em> first adds three consecutive points (P1-P3) to its shape detection class and determines that the generated arc does not deviate significantly from the original path.  It then adds P4 and P5, again detecting no significant deviation.  However, at P6, the detected deviation exceeds the maximum, so P6 is not added, and an arc is generated that replaces P1-P5.  <em>Arc Welder</em> then starts a new arc from P5, P6, and P7 and continues the process.  Note:  The endpoints of every arc will ALWAYS line up exactly with the original GCode.</p>

<p>It is important to note that the example above is zoomed WAY in so that the deviation looks very large.  It is, in fact, extremely small and almost impossible to see with the naked eye.  You can customize the resolution in the plugin settings if 0.05mm (+- 0.025mm) is too large for you.</p>

<h2 id="arc-welder-plugin-features"><em>Arc Welder</em> Plugin Features</h2>

<ul>
  <li><strong>Customizable Resolution</strong> - You control the maximum allowable deviation from the original tool path.  Higher values will result in more compression but more deviation.  Lower values will produce more accurate GCode but less compression.  The default value of 0.05mm (+- 0.025mm) produces excellent results in most cases.  I would recommend a lower value only for extreme cases, like extremely high resolution models with small nozzles and very low layer heights.  Values higher than 0.05 are not recommended.</li>
  <li><strong>Automatic and/or Manual Processing</strong> - <em>Arc Welder</em> can be configured to automatically process newly added file or to allow manual processing via an integration with the OctoPrint file manager.  You can enable one or both of these methods depending on your preference.</li>
  <li><strong>Rename or Overwrite the Source File</strong> - Choose to keep the original source GCode file or replace it entirely with the arc-welded file.  You can also add a custom prefix or postfix to the output file.</li>
  <li><strong>Delete the Source File After Processing</strong> - You can create a new file and have <em>Arc Welder</em> delete the original file automatically in most cases.</li>
  <li><strong>See Detailed Conversion Statistics</strong> - <em>Arc Welder</em> creates and stores statistics for each converted file, including compression percentage and ratio, source/target file size, and line count, as well as a detailed comparison of extrusion/retraction counts at various lengths between the source and target file.  You can view statistics for any arc-welded file by selecting it in the file manager or by clicking on the icon within the file manager.</li>
  <li><strong>Detailed Conversion Progress Bar</strong> - See real time progress info as <em>Arc Welder</em> processes your file, including several useful statistics.  You can cancel the conversion at any time.</li>
  <li><strong>Enable/Disable Notifications</strong> - Tired of popup messages?  Turn them off in the settings.</li>
  <li><strong>Advanced Logging Settings</strong> - You can control logging from within the plugin’s settings page if you run into problems.  You can even delete the existing log(s) completely.</li>
  <li><strong>Restore Plugin Defaults</strong> - Easily restore the default settings if you run into trouble.</li>
  <li><strong>Receive Notifications for New Development or Maintenance Release Candidates</strong> - Get early notifications about new features and bug fixes.  Help contribute to the project!  <em>Arc Welder</em> also supports plugin-specific release channels in a future version of OctoPrint (if that feature is eventually released).</li>
</ul>

<h2 id="arc-welder-library-and-console-application"><em>Arc Welder</em> Library and Console Application</h2>
<p>The core of the <em>Arc Welder</em> plugin is a set of libraries written in c++ based on code that was originally designed for the Octolapse plugin.  This code allows <em>Arc Welder</em> to parse GCode and determine the printer’s position and extruder state after each command.  Since the code is written entirely in c++, it is orders of magnitude faster than similar code written in Python.  The complete source, as well as a console version and inverse processor (convert G2/G3 to G0/G1), can be found <a href="https://github.com/FormerLurker/ArcWelderLib">here</a>.  There are also <a href="https://github.com/FormerLurker/ArcWelderLib/actions?query=workflow%3A%22CMake+Build+Matrix%22">pre-compiled binaries</a>, though I’ve not gotten them to work properly in MacOS or in some flavors of Linux.  There are currently no GitHub hosted runners for any Raspberry Pi.  I am working on these issues.</p>

<p>Using the console application, it is possible to arc-weld files via most slicers as a post-processor.  However, all slicers that I have tested except for <a href="https://www.simplify3d.com/">Simplify 3D</a> fail to correctly visualize the G2/G3 commands.  Simplify 3D does seem to work perfectly for this, but other slicers make it look like the GCode is faulty.  Keep that in mind if you plan to integrate the <em>Arc Welder Console Application</em> with your slicer.</p>

<h2 id="firmware-considerations">Firmware Considerations</h2>
<p>Your printer’s firmware must be capable of printing G2/G3 commands to use the GCode produced by <em>Arc Welder</em>.  Additionally, arc support must be enabled and properly configured.  Firmware support varies, and many older versions produce arcs less accurately and more slowly than expected.</p>

<h3 id="marlin">Marlin</h3>
<p><a href="https://github.com/MarlinFirmware/Marlin/">Marlin</a> has supported arc commands for a long time.  However, starting with <a href="https://github.com/MarlinFirmware/Marlin/releases/tag/2.0.6">version 2.0.6</a> arc support has been greatly enhanced.  I recommend you upgrade to at least this version before using <em>Arc Welder</em> because your experience will be much better.  Arc support must be enabled in your Configuration_adv.h file.</p>

<p>For recent versions of Marlin (2.0.6 and above), you can send an <code class="language-plaintext highlighter-rouge">M115</code> to see if your firmware has <em>ARC_SUPPORT</em> enabled.  For earlier versions you can send an empty <code class="language-plaintext highlighter-rouge">G2</code> or <code class="language-plaintext highlighter-rouge">G3</code> command.  If your printer responds with <code class="language-plaintext highlighter-rouge">unknown command</code>, arc support is not enabled.</p>

<p>If your printer is running a fork of Marlin, but arc support is not enabled or is buggy, I recommend creating an issue within the fork’s repository.</p>

<blockquote>
  <p>“A plugin that can convert curves into arcs will be massively welcome and should make a great improvement in performance and print results.”</p>

  <p><strong><a href="https://www.patreon.com/thinkyhead"><code class="language-plaintext highlighter-rouge">Scott Lahteine</code></a></strong> - <em>Creator of <a href="https://github.com/MarlinFirmware/Marlin/">Marlin Firmware</a></em></p>
</blockquote>

<h3 id="prusa-firmware">Prusa Firmware</h3>
<p><a href="https://github.com/prusa3d/Prusa-Firmware">Prusa’s fork of Marlin</a> does support G2/G3 commands, however the default settings can produce sharp corners for very small arcs.  I’ve only noticed this in a few of my test prints, so it is not a particularly common issue.  You should be able to see it on the roof of a Benchy if you look closely.  Reducing the <em>MM_PER_ARC_SEGMENT</em> setting slightly can correct this but can also introduce stuttering.  Reducing the value massively (say to 0.1mm) will introduce a LOT of stutter and is NOT recommended.  Please note that adjusting this setting currently requires a manual firmware recompile.</p>

<p>I have been toying with the firmware and have submitted a pull request to enhance the capabilities, but it hasn’t made it into the firmware yet and may require further modifications.  I am planning to add some enhancements from Marlin 2.0.6 as well.  I also added some new GCodes for adjusting arc interpolating and for retrieving the firmware settings for arc generation.  You can view the pull request <a href="https://github.com/prusa3d/Prusa-Firmware/pull/2657">here</a>.  Feel free to give this pull request a thumbs up, but realize that it needs some work and that the good folks at <a href="[https://www.prusa3d.com/">Prusa Research</a> have a lot on their plates.</p>

<p>Also, some very old versions of Prusa’s firmware (I’m not sure exactly how old) do not support bed leveling adjustments during arc movements.  Please make sure you are using a recent version of the firmware so that interpolated movements are properly leveled.</p>

<h3 id="klipper">Klipper</h3>
<p><a href="https://github.com/KevinOConnor/klipper/">Klipper</a> seems to handle G2/G3 commands with ease, as long as the <em>GCode_arcs</em> config section is enabled.  G2/G3 support was added on September 13, 2019, so make sure you update Klipper if you are using an older version.</p>

<h3 id="other-firmware">Other Firmware</h3>
<p>Though G2/G3 support is not universal, nor are all implementations equal, it is relatively easy to test.  You can do so in the OctoPrint terminal by sending the the following commands, one at a time:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>G90
G28 X Y
G0 X0 Y0
G2 X40 I20
</code></pre></div></div>

<p>If your printer supports arc commands, it should move across a small arc from the origin.  Please feel free to let me know if your firmware supports arc movements, and I may add it to the list.</p>

<p><strong>Warning</strong>:  The above GCode has not been tested on all printers.  Please use it with caution and <a href="https://github.com/FormerLurker/ArcWelderPlugin/issues">report any issues here</a>.</p>

<h3 id="other-firmware-considerations">Other Firmware Considerations</h3>

<p>Most firmware will convert G2/G3 commands to many small segments through a process called interpolation.  The length of these segments varies by implementation.  In most cases the interpolated segments are much closer together than the linear segments you will find within your GCode file, but it’s impossible to know for sure without examining the firmware in detail.</p>

<p>All firmware that I am aware of will inscribe these interpolated segments within the arc.  These segments will be entirely within the arc, only touching it at the endpoints.  This will reduce the average radius slightly.  In most cases, this effect is minimal and has no practical impact.  However, in some odd cases, like a snap fitting that is extremely sensitive to changes in diameter, the effect may be noticeable.  The smaller the interpolated segments (all firmware controlled), the less of an effect there is.  In general, it will be a much smaller effect than normal variations in filament diameter.  I hope to find a solution to this problem.</p>

<p>G2/G3 support is not perfect at the moment, but I suspect things will start to improve as they become more common.  If you are willing and have the skills to improve G2/G3 support in any way, please do!</p>

<h2 id="license">License</h2>

<p>View the <a href="https://raw.githubusercontent.com/FormerLurker/ArcWelderPlugin/master/LICENSE"><em>Arc Welder</em> license</a>.</p>


      
    </article>

    <div class="span4">
      <dl class="adbox">
        <dd class="ad">
          <script>
    if (!window["carbon-disable"]) {
        (function() {
            var po = document.createElement("script");
            po.type = "text/javascript";
            po.async = true;
            po.src  = "//cdn.carbonads.com/carbon.js?serve=CK7DT237&placement=pluginsoctoprintorg";
            po.id = "_carbonads_js";
            var s = document.currentScript;
            s.parentNode.insertBefore(po, s);
        })();
    }
</script>
        </dd>
      </dl>
      
      <dl class="installation">
        <dt>Installation <a href="/help/installation/" class="fas fa-question-circle"></a></dt>
        
        <dd>
          URL:
          <pre>https://github.com/FormerLurker/ArcWelderPlugin/archive/master.zip</pre>
          
        </dd>
        
        
        <dd>
          Command line:
          <pre>pip install "https://github.com/FormerLurker/ArcWelderPlugin/archive/master.zip"</pre>
        </dd>
        
      </dl>
      
      
      <dl class="date">
        <dt>Registration date</dt>
        <dd>24 Oct 2020</dd>
      </dl>
      
      
      
      
      
      <dl class="tags">
        <dt>Tags</dt>
        <dd>
          
          
          
          
          <a class="label" href="/by_tag/#tag-arc">arc</a>
          
          <a class="label" href="/by_tag/#tag-compression">compression</a>
          
          <a class="label" href="/by_tag/#tag-g2">g2</a>
          
          <a class="label" href="/by_tag/#tag-g3">g3</a>
          
          <a class="label" href="/by_tag/#tag-gcode">gcode</a>
          
          <a class="label" href="/by_tag/#tag-preprocessing">preprocessing</a>
          
          <a class="label" href="/by_tag/#tag-stutter">stutter</a>
          
        </dd>
      </dl>
      
      <dl class="compatibility">
        <dt>Compatibility Information</dt>
        <dd>
          <ul>
            
            <li>OctoPrint: 1.4.0+</li>
            
            
            <li>Operating Systems: Linux, Windows, FreeBSD</li>
            
            
            <li>Python: &gt;=2.7,&lt;4</li>
            
          </ul>
        </dd>
      </dl>
      
      <dl class="author">
        <dt>Author</dt>
        <dd>
<a href="/by_author/#brad-hochgesang">Brad Hochgesang</a>
</dd>
      </dl>
      
      
      <dl class="homepage">
        <dt>Homepage</dt>
        <dd><a href="https://github.com/FormerLurker/ArcWelderPlugin" target="_blank">https://github.com/FormerLurker/ArcWelderPlugin</a></dd>
      </dl>
      
      
      <dl class="source">
        <dt>Source</dt>
        <dd><a href="https://github.com/FormerLurker/ArcWelderPlugin" target="_blank">https://github.com/FormerLurker/ArcWelderPlugin</a></dd>
      </dl>
      
      
      <dl class="license">
        <dt>License</dt>
        <dd>AGPL-3.0</dd>
      </dl>
      
      <dl class="issue">
        <dt>Something wrong here?</dt>
        <dd>
          <p>
            If there is <strong>something wrong with this listing</strong> (broken links & images etc), please
            <a href="https://github.com/OctoPrint/plugins.octoprint.org/issues/new?template=listing_error.yml&labels%5B%5D=listing+error&title=%5BListing+Error%5D+Arc+Welder&which_plugin=https%3A%2F%2Fplugins.octoprint.org%2Fplugins%2Farc_welder%2F">report it here</a>.
          </p>
          <p>
            If this plugin <strong>has been <em>confirmed</em> as abandoned</strong> by its maintainer, please
            <a href="https://github.com/OctoPrint/plugins.octoprint.org/issues/new?template=abandoned_plugin.yml&labels%5B%5D=abandoned+plugin&title=%5BAbandoned+Plugin%5D+Arc+Welder&which_plugin=https%3A%2F%2Fplugins.octoprint.org%2Fplugins%2Farc_welder%2F">report it here</a>.
          </p>
          <p>
            If this plugin is <strong>doing something suspicious</strong> (e.g. weird network activity, unannounced tracking, ...) and
            the maintainer is not cooperating in getting to the bottom of that, please
            <a href="https://github.com/OctoPrint/plugins.octoprint.org/issues/new?template=suspicious_plugin_activity.yml&labels%5B%5D=suspicious+plugin+activity&title=%5BSuspicious+Plugin+Activity%5D+Arc+Welder&which_plugin=https%3A%2F%2Fplugins.octoprint.org%2Fplugins%2Farc_welder%2F">report the plugin as suspicious here</a>.
          </p>
          <p>
            Report bugs or feature requests for the plugin to the plugin author (e.g. on the plugin's <a href="https://github.com/FormerLurker/ArcWelderPlugin">homepage</a>) please, not here!
          </p>
        </dd>
      </dl>
    </div>

  </div>
</div>

<script type="application/javascript">
  $(function() {
    var has_github = false;
    if (has_github) {
      var github_repo = "";

      if (github_repo) {
        var status = "unknown";

        var starSpan = $("#github_star");
        $("a", starSpan).click(function() {
          switch (status) {
            case "starred": {
              window.githubUnstar(github_repo)
                .done(function() {
                  markAsUnstarred();
                  updateStarcount();
                })
                .fail(markAsLoggedout);
              break;
            }
            case "unstarred": {
              window.githubStar(github_repo)
                .done(function() {
                  markAsStarred();
                  updateStarcount();
                })
                .fail(markAsLoggedout);
              break;
            }
            case "loggedout": {
              window.githubLogin()
                .done(determineStatus);
              break;
            }
          }
        });
        starSpan.hide();

        var login = $("#github_login");
        $("a", login).click(function() {
          switch (status) {
            case "loggedout": {
              window.githubLogin()
                .done(determineStatus);
              break;
            }
            case "starred":
            case "unstarred": {
              window.githubLogout()
                .done(determineStatus);
              break;
            }
          }
        });

        var starCount = $("#github_star_count");

        var markAsStarred = function() {
          status = "starred";
          $("i.fa-star", starSpan).removeClass("far").addClass("fas");
          $("a", login).text("Logout");
        }
        var markAsUnstarred = function() {
          status = "unstarred";
          $("i.fa-star", starSpan).removeClass("fas").addClass("far");
          $("a", login).text("Logout");
        };
        var markAsLoggedout = function() {
          status = "loggedout";
          $("a", login).text("Login");
        };
        var updateStarcount = function() {
          window.githubRepo(github_repo)
            .done(function(response) {
              starCount.text(response.stargazers_count);
            });
        }
        var determineStatus = function() {
          window.githubStatus(github_repo)
            .done(function(starred) {
              if (starred) {
                markAsStarred();
              } else {
                markAsUnstarred();
              }
              starSpan.show();
              updateStarcount();
            })
            .fail(function() {
              markAsLoggedout();
              starSpan.hide();
            });
        }

        determineStatus();
      }
    }
  });
</script>

    </div>
</div>

      <footer>
          <div class="container">
              <div class="row">
                  <div class="span4">
                      <h2>On the web</h2>
                      <ul class="fa-ul">
                          <li><span class="fa-li"><i class="fas fa-users fa-fw"></i></span><a href="https://community.octoprint.org">Community Forum</a></li>
                          <li><span class="fa-li"><i class="fab fa-discord fa-fw"></i></span><a href="https://discord.octoprint.org" target="_blank">Discord</a></li>
                          <li><span class="fa-li"><i class="fas fa-hashtag fa-fw"></i></span><a href="ircs://irc.libera.chat:6697/#octoprint" target="_blank">IRC</a> (#octoprint on <a href="https://libera.chat" target="_blank">libera.chat</a>)</li>
                          <li><span class="fa-li"><i class="fab fa-twitter fa-fw"></i></span><a href="https://twitter.com/OctoPrint3D" target="_blank">Twitter</a></li>
                          <li><span class="fa-li"><i class="fab fa-facebook-f fa-fw"></i></span><a href="https://facebook.com/OctoPrint" target="_blank">Facebook</a></li>
                          <li><span class="fa-li"><i class="fab fa-youtube fa-fw"></i></span><a href="https://www.youtube.com/c/OctoPrint3D" target="_blank">YouTube</a></li>
                          <li><span class="fa-li"><i class="fas fa-tachometer-alt fa-fw"></i></span><a href="https://status.octoprint.org" target="_blank">Site Status</a></li>
                          <li><span class="fa-li"><i class="fas fa-gavel fa-fw"></i></span><a href="https://octoprint.org/imprint/" rel="nofollow">Legal Notice</a></li>
                          <li><span class="fa-li"><i class="fas fa-gavel fa-fw"></i></span><a href="https://octoprint.org/privacy/" rel="nofollow">Privacy Policy</a></li>
                      </ul>
                  </div>
                  <div class="span4">
                      <h2>Recently Added</h2>
                      <ul>
                          
                          
                          <li>
                              <a class="post-link" href="/plugins/CreatbotUtil/">Creatbot Util</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/queue/">OctoPrint-Queue</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/psucontrol_jeedom/">PSU Control - Jeedom</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/preheathelper/">OctoPrint-PreheatHelper</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/extrafileinfo/">ExtraFileInfo</a>
                          </li>
                          
                      </ul>
                  </div>
                  <div class="span4 hidden-phone">
                      <a href="http://octoprint.org"><img src="/assets/img/logo-footer.png" alt="Octopus logo" class="pull-right"></a>
                  </div>
              </div>
              <div class="row">
                  <div class="span12 text-center legal">
                      <small>"OctoPrint" is a <a href="http://octoprint.org/trademark-rules/">registered trademark</a></small>
                  </div>
              </div>
          </div>
      </footer>

<script integrity="sha256-oq4gZXkRKQNEXwwNS5jzGrkB2yjohz3HyBzkCgY3J0U=" crossorigin="anonymous" type="text/javascript" src="/assets/js/prettify-a2ae206579112903445f0c0d4b98f31ab901db28e8873dc7c81ce40a06372745.js"></script>
<script integrity="sha256-9WUabhj4hYHZvjzwYyj+3p4RKUPJ7AN7TCwdxiPZQps=" crossorigin="anonymous" type="text/javascript" src="/assets/js/bootstrap.min-f5651a6e18f88581d9be3cf06328fede9e112943c9ec037b4c2c1dc623d9429b.js"></script>
<script integrity="sha256-pjknAWChAVRqxsY3OyTXQitKN725ONjqpew+vv3TQ/g=" crossorigin="anonymous" type="text/javascript" src="/assets/js/lunr.min-a639270160a101546ac6c6373b24d7422b4a37bdb938d8eaa5ec3ebefdd343f8.js"></script>
<script integrity="sha256-moWmXRncmWe8pee7FV4fgitCdA/S7gTzof1z2kzjytg=" crossorigin="anonymous" type="text/javascript" src="/assets/js/mustache-9a85a65d19dc9967bca5e7bb155e1f822b42740fd2ee04f3a1fd73da4ce3cad8.js"></script>
<script integrity="sha256-VpwM3TTZgmoOWxqz6tE14UwGKBpx3pCqjirqNejJ23U=" crossorigin="anonymous" type="text/javascript" src="/assets/js/URI.min-569c0cdd34d9826a0e5b1ab3ead135e14c06281a71de90aa8e2aea35e8c9db75.js"></script>
<script integrity="sha256-f10YhaDPIm04yzE7jNQ5fgLI/o/RzCAEwuuUmtob2vU=" crossorigin="anonymous" type="text/javascript" src="/assets/js/date.format-7f5d1885a0cf226d38cb313b8cd4397e02c8fe8fd1cc2004c2eb949ada1bdaf5.js"></script>
<script integrity="sha256-FFsWmb+Oaz5ZDxXqMv/bVECwF3F/yNqJJOCcycdxU3g=" crossorigin="anonymous" type="text/javascript" src="/assets/js/jquery.lunr.search-145b1699bf8e6b3e590f15ea32ffdb5440b017717fc8da8924e09cc9c7715378.js"></script>
<script integrity="sha256-QP3MGVxZgiUMiQHywWDhU0KUGjEfr2NywEEXwNnES8c=" crossorigin="anonymous" type="text/javascript" src="/assets/js/lightbox.min-40fdcc195c5982250c8901f2c160e15342941a311faf6372c04117c0d9c44bc7.js"></script>
<script integrity="sha256-nNPB8nY6m7oEivqh1liFhpUgWH4PU2/7C/k1mEKDcf0=" crossorigin="anonymous" type="text/javascript" src="/assets/js/site-9cd3c1f2763a9bba048afaa1d65885869520587e0f536ffb0bf93598428371fd.js"></script>
<script integrity="sha256-LhD170aMSyAIjslkoROsutHxXRuvQHSlJV/QPCBL838=" crossorigin="anonymous" type="text/javascript" src="/assets/js/autotrack-2e10f5ef468c4b20088ec964a113acbad1f15d1baf4074a5255fd03c204bf37f.js"></script>
<script integrity="sha256-k2YtLDENA0EGXNUY89RImV47fkTIcVG86USbFIRqW24=" crossorigin="anonymous" type="text/javascript" src="/assets/js/yt-with-consent-93662d2c310d0341065cd518f3d448995e3b7e44c87151bce9449b14846a5b6e.js"></script>

<script>
    var gaBaseProperty = 'UA-62479257';
    var gaProperty = gaBaseProperty + '-2';

    // opt out
    var disableStr = 'ga-disable-' + gaProperty;
    var disableCookie = 'ga-disable-' + gaBaseProperty;
    function gaOptout() {
        document.cookie = disableCookie + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/; domain=octoprint.org';
        window[disableStr] = true;
        alert("Google Analytics ist jetzt deaktiviert! / Google Analytics is now deactivated!")
    }

    // tracking code
    if (document.cookie.indexOf(disableCookie + '=true') > -1) {
        window[disableStr] = true;
    } else {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', gaProperty, 'auto');
        ga('require', 'autotrack');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
    }
</script>

</body>
</html>
